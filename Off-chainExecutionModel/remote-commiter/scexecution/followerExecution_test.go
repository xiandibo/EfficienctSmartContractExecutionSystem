package scexecution

import (
	"github.com/ethereum/go-ethereum/common"
	"github.com/ethereum/go-ethereum/core/rawdb"
	"github.com/vadiminshakov/committer/core/state"
	"log"
	"testing"
)

func TestProposeHandler(t *testing.T) {

	cfg := new(Config)

	setDefaults(cfg)

	if cfg.State == nil {
		cfg.State, _ = state.New(common.Hash{}, state.NewDatabase(rawdb.NewMemoryDatabase()), nil)
	}
	Init(cfg)
	res, _, err := ExecuteTestContract(
		cfg,
		common.Hex2Bytes("da778c8a00000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000001a000000000000000000000000000000000000000000000000000000000000002a000000000000000000000000000000000000000000000000000000000000003a000000000000000000000000000000000000000000000000000000000000004a0000000000000000000000000bd770416a3345f91e4b34576cb804a576fa48eb10000000000000000000000000000000000000000000000000000000000000080000000000000000000000000bd770416a3345f91e4b34576cb804a576fa48eb100000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000001310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000013200000000000000000000000000000000000000000000000000000000000000000000000000000000000000bd770416a3345f91e4b34576cb804a576fa48eb10000000000000000000000000000000000000000000000000000000000000080000000000000000000000000bd770416a3345f91e4b34576cb804a576fa48eb100000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000001310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000013200000000000000000000000000000000000000000000000000000000000000000000000000000000000000bd770416a3345f91e4b34576cb804a576fa48eb10000000000000000000000000000000000000000000000000000000000000080000000000000000000000000bd770416a3345f91e4b34576cb804a576fa48eb100000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000001310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000013200000000000000000000000000000000000000000000000000000000000000000000000000000000000000bd770416a3345f91e4b34576cb804a576fa48eb10000000000000000000000000000000000000000000000000000000000000080000000000000000000000000bd770416a3345f91e4b34576cb804a576fa48eb100000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000001310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000013200000000000000000000000000000000000000000000000000000000000000000000000000000000000000bd770416a3345f91e4b34576cb804a576fa48eb10000000000000000000000000000000000000000000000000000000000000080000000000000000000000000bd770416a3345f91e4b34576cb804a576fa48eb100000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000001310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000013200000000000000000000000000000000000000000000000000000000000000"),
		common.BytesToAddress(common.Hex2Bytes("684c903c66d69777377f0945052160c9f778d689")),
		0,
		nil,
		)
	log.Println(res)
	if err != nil {
		log.Println("Err", err)
	}
}

func TestInit(t *testing.T) {
	cfg := new(Config)

	setDefaults(cfg)
	Init(cfg)
}
